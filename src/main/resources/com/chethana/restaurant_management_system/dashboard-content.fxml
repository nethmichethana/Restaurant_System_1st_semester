<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.chart.*?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>

<ScrollPane xmlns="http://javafx.com/javafx/11.0.1"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.chethana.restaurant_management_system.controllers.DashboardContentController"
            style="-fx-background: #F8FAFC; -fx-border-color: transparent; -fx-background-color: transparent;"
            fitToWidth="true">

    <VBox style="-fx-padding: 25; -fx-spacing: 25; -fx-background-color: #F8FAFC;">

        <!-- Welcome Section -->
        <HBox alignment="CENTER_LEFT" spacing="15" style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4);">
            <VBox spacing="5">
                <Label text="ðŸ“Š Dashboard Overview" style="-fx-font-size: 28px; -fx-font-weight: 700; -fx-text-fill: #0D47A1;" />
                <Label fx:id="dateLabel" style="-fx-font-size: 14px; -fx-text-fill: #5C6BC0;" />
            </VBox>
            <Region HBox.hgrow="ALWAYS" />
            <VBox alignment="CENTER_RIGHT" spacing="5">
                <Label text="Performance" style="-fx-font-size: 12px; -fx-text-fill: #7986CB;" />
                <Label text="Excellent" style="-fx-font-size: 16px; -fx-font-weight: bold; -fx-text-fill: #43A047;" />
            </VBox>
        </HBox>

        <!-- Stats Cards -->
        <GridPane hgap="20" vgap="20">
            <columnConstraints>
                <ColumnConstraints hgrow="ALWAYS" prefWidth="250" />
                <ColumnConstraints hgrow="ALWAYS" prefWidth="250" />
                <ColumnConstraints hgrow="ALWAYS" prefWidth="250" />
                <ColumnConstraints hgrow="ALWAYS" prefWidth="250" />
            </columnConstraints>

            <!-- Total Orders Card -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4); -fx-border-color: rgba(30, 136, 229, 0.1); -fx-border-width: 1; -fx-border-radius: 16;" GridPane.columnIndex="0">
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <VBox style="-fx-background-color: rgba(30, 136, 229, 0.1); -fx-background-radius: 12; -fx-padding: 12; -fx-alignment: center;">
                        <Label text="ðŸ“‹" style="-fx-font-size: 24px;" />
                    </VBox>
                    <VBox spacing="3">
                        <Label text="Total Orders" style="-fx-font-size: 13px; -fx-text-fill: #5C6BC0; -fx-font-weight: 500;" />
                        <Label fx:id="totalOrdersLabel" text="0" style="-fx-font-size: 32px; -fx-font-weight: 700; -fx-text-fill: #0D47A1;" />
                    </VBox>
                </HBox>
                <Separator style="-fx-padding: 12 0;" />
                <Label fx:id="ordersTodayLabel" text="Today: 0" style="-fx-font-size: 12px; -fx-text-fill: #43A047; -fx-font-weight: 500; -fx-background-color: rgba(67, 160, 71, 0.1); -fx-background-radius: 8; -fx-padding: 4 10; -fx-alignment: center;" />
            </VBox>

            <!-- Total Revenue Card -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4); -fx-border-color: rgba(67, 160, 71, 0.2); -fx-border-width: 1; -fx-border-radius: 16;" GridPane.columnIndex="1">
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <VBox style="-fx-background-color: rgba(67, 160, 71, 0.1); -fx-background-radius: 12; -fx-padding: 12; -fx-alignment: center;">
                        <Label text="ðŸ’°" style="-fx-font-size: 24px;" />
                    </VBox>
                    <VBox spacing="3">
                        <Label text="Total Revenue" style="-fx-font-size: 13px; -fx-text-fill: #5C6BC0; -fx-font-weight: 500;" />
                        <Label fx:id="totalRevenueLabel" text="Rs. 0.00" style="-fx-font-size: 28px; -fx-font-weight: 700; -fx-text-fill: #43A047;" />
                    </VBox>
                </HBox>
                <Separator style="-fx-padding: 12 0;" />
                <Label fx:id="revenueTodayLabel" text="Today: Rs. 0.00" style="-fx-font-size: 12px; -fx-text-fill: #43A047; -fx-font-weight: 500; -fx-background-color: rgba(67, 160, 71, 0.1); -fx-background-radius: 8; -fx-padding: 4 10; -fx-alignment: center;" />
            </VBox>

            <!-- Active Customers Card -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4); -fx-border-color: rgba(30, 136, 229, 0.2); -fx-border-width: 1; -fx-border-radius: 16;" GridPane.columnIndex="2">
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <VBox style="-fx-background-color: rgba(30, 136, 229, 0.1); -fx-background-radius: 12; -fx-padding: 12; -fx-alignment: center;">
                        <Label text="ðŸ‘¥" style="-fx-font-size: 24px;" />
                    </VBox>
                    <VBox spacing="3">
                        <Label text="Total Customers" style="-fx-font-size: 13px; -fx-text-fill: #5C6BC0; -fx-font-weight: 500;" />
                        <Label fx:id="totalCustomersLabel" text="0" style="-fx-font-size: 32px; -fx-font-weight: 700; -fx-text-fill: #0D47A1;" />
                    </VBox>
                </HBox>
                <Separator style="-fx-padding: 12 0;" />
                <Label text="New: 0 this week" style="-fx-font-size: 12px; -fx-text-fill: #1E88E5; -fx-font-weight: 500; -fx-background-color: rgba(30, 136, 229, 0.1); -fx-background-radius: 8; -fx-padding: 4 10; -fx-alignment: center;" />
            </VBox>

            <!-- Pending Orders Card -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4); -fx-border-color: rgba(251, 140, 0, 0.2); -fx-border-width: 1; -fx-border-radius: 16;" GridPane.columnIndex="3">
                <HBox alignment="CENTER_LEFT" spacing="15">
                    <VBox style="-fx-background-color: rgba(251, 140, 0, 0.1); -fx-background-radius: 12; -fx-padding: 12; -fx-alignment: center;">
                        <Label text="â³" style="-fx-font-size: 24px;" />
                    </VBox>
                    <VBox spacing="3">
                        <Label text="Pending Orders" style="-fx-font-size: 13px; -fx-text-fill: #5C6BC0; -fx-font-weight: 500;" />
                        <Label fx:id="pendingOrdersLabel" text="0" style="-fx-font-size: 32px; -fx-font-weight: 700; -fx-text-fill: #FB8C00;" />
                    </VBox>
                </HBox>
                <Separator style="-fx-padding: 12 0;" />
                <Label text="Waiting preparation" style="-fx-font-size: 12px; -fx-text-fill: #FB8C00; -fx-font-weight: 500; -fx-background-color: rgba(251, 140, 0, 0.1); -fx-background-radius: 8; -fx-padding: 4 10; -fx-alignment: center;" />
            </VBox>
        </GridPane>

        <!-- Charts Section -->
        <GridPane hgap="20" vgap="20">
            <columnConstraints>
                <ColumnConstraints hgrow="ALWAYS" prefWidth="450" />
                <ColumnConstraints hgrow="ALWAYS" prefWidth="450" />
            </columnConstraints>

            <!-- Revenue Chart -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4);" spacing="15" GridPane.columnIndex="0">
                <HBox alignment="CENTER_LEFT">
                    <Label text="ðŸ“ˆ Revenue Overview (Last 7 Days)" style="-fx-font-size: 18px; -fx-font-weight: 600; -fx-text-fill: #0D47A1;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <HBox spacing="10">
                        <Label text="This Week" style="-fx-text-fill: #5C6BC0; -fx-font-size: 12px; -fx-background-color: rgba(30, 136, 229, 0.1); -fx-background-radius: 8; -fx-padding: 4 10;" />
                        <Label text="Last Week" style="-fx-text-fill: #5C6BC0; -fx-font-size: 12px; -fx-background-color: #F8FAFC; -fx-background-radius: 8; -fx-padding: 4 10; -fx-border-color: rgba(30, 136, 229, 0.2); -fx-border-width: 1;" />
                    </HBox>
                </HBox>
                <LineChart fx:id="revenueChart" animated="true" createSymbols="true" legendVisible="false" prefHeight="300"
                           style="-fx-background-color: #F8FAFC; -fx-border-color: rgba(30, 136, 229, 0.1); -fx-border-radius: 12;">
                    <xAxis>
                        <CategoryAxis label="Days" style="-fx-tick-label-fill: #5C6BC0;" />
                    </xAxis>
                    <yAxis>
                        <NumberAxis label="Revenue (Rs.)" style="-fx-tick-label-fill: #5C6BC0;" />
                    </yAxis>
                </LineChart>
            </VBox>

            <!-- Order Status Chart -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4);" spacing="15" GridPane.columnIndex="1">
                <HBox alignment="CENTER_LEFT">
                    <Label text="ðŸ“Š Order Status Distribution" style="-fx-font-size: 18px; -fx-font-weight: 600; -fx-text-fill: #0D47A1;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Label text="Real-time" style="-fx-text-fill: #43A047; -fx-font-size: 12px; -fx-background-color: rgba(67, 160, 71, 0.1); -fx-background-radius: 8; -fx-padding: 4 10;" />
                </HBox>
                <PieChart fx:id="orderStatusChart" animated="true" prefHeight="300"
                          style="-fx-background-color: #F8FAFC; -fx-border-color: rgba(30, 136, 229, 0.1); -fx-border-radius: 12;" />
            </VBox>
        </GridPane>

        <!-- Quick Actions & Recent Orders -->
        <GridPane hgap="20" vgap="20">
            <columnConstraints>
                <ColumnConstraints hgrow="ALWAYS" prefWidth="450" />
                <ColumnConstraints hgrow="ALWAYS" prefWidth="450" />
            </columnConstraints>

            <!-- Quick Actions -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4);" spacing="20" GridPane.columnIndex="0">
                <HBox alignment="CENTER_LEFT">
                    <Label text="âš¡ Quick Actions" style="-fx-font-size: 18px; -fx-font-weight: 600; -fx-text-fill: #0D47A1;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Label text="Instant Access" style="-fx-font-size: 12px; -fx-text-fill: #5C6BC0;" />
                </HBox>

                <GridPane hgap="12" vgap="12">
                    <columnConstraints>
                        <ColumnConstraints hgrow="ALWAYS" />
                        <ColumnConstraints hgrow="ALWAYS" />
                    </columnConstraints>

                    <Button text="ðŸ†• New Order" GridPane.columnIndex="0" GridPane.rowIndex="0"
                            style="-fx-background-color: linear-gradient(to bottom right, #43A047, #2E7D32); -fx-text-fill: white; -fx-font-weight: 600; -fx-font-size: 14px; -fx-padding: 15; -fx-background-radius: 12; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(67, 160, 71, 0.3), 8, 0, 0, 2);" />
                    <Button text="ðŸ“… New Reservation" GridPane.columnIndex="1" GridPane.rowIndex="0"
                            style="-fx-background-color: linear-gradient(to bottom right, #1E88E5, #1565C0); -fx-text-fill: white; -fx-font-weight: 600; -fx-font-size: 14px; -fx-padding: 15; -fx-background-radius: 12; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.3), 8, 0, 0, 2);" />

                    <Button text="ðŸ“‹ Add Menu Item" GridPane.columnIndex="0" GridPane.rowIndex="1"
                            style="-fx-background-color: linear-gradient(to bottom right, #9C27B0, #7B1FA2); -fx-text-fill: white; -fx-font-weight: 600; -fx-font-size: 14px; -fx-padding: 15; -fx-background-radius: 12; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(156, 39, 176, 0.3), 8, 0, 0, 2);" />
                    <Button text="ðŸ‘¥ Add Customer" GridPane.columnIndex="1" GridPane.rowIndex="1"
                            style="-fx-background-color: linear-gradient(to bottom right, #FB8C00, #EF6C00); -fx-text-fill: white; -fx-font-weight: 600; -fx-font-size: 14px; -fx-padding: 15; -fx-background-radius: 12; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(251, 140, 0, 0.3), 8, 0, 0, 2);" />

                    <Button text="ðŸ“¦ Check Inventory" GridPane.columnIndex="0" GridPane.rowIndex="2"
                            style="-fx-background-color: linear-gradient(to bottom right, #00ACC1, #00838F); -fx-text-fill: white; -fx-font-weight: 600; -fx-font-size: 14px; -fx-padding: 15; -fx-background-radius: 12; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(0, 172, 193, 0.3), 8, 0, 0, 2);" />
                    <Button text="ðŸ’° Process Payment" GridPane.columnIndex="1" GridPane.rowIndex="2"
                            style="-fx-background-color: linear-gradient(to bottom right, #43A047, #2E7D32); -fx-text-fill: white; -fx-font-weight: 600; -fx-font-size: 14px; -fx-padding: 15; -fx-background-radius: 12; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(67, 160, 71, 0.3), 8, 0, 0, 2);" />
                </GridPane>
            </VBox>

            <!-- Recent Orders Table -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4);" spacing="15" GridPane.columnIndex="1">
                <HBox alignment="CENTER_LEFT">
                    <Label text="ðŸ•’ Recent Orders" style="-fx-font-size: 18px; -fx-font-weight: 600; -fx-text-fill: #0D47A1;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Button text="View All â†’"
                            style="-fx-background-color: transparent; -fx-text-fill: #1E88E5; -fx-font-weight: 600; -fx-font-size: 14px; -fx-padding: 8 16; -fx-border-color: rgba(30, 136, 229, 0.3); -fx-border-width: 1; -fx-border-radius: 8; -fx-cursor: hand;" />
                </HBox>

                <TableView fx:id="recentOrdersTable" prefHeight="250"
                           style="-fx-background-color: transparent; -fx-border-color: rgba(30, 136, 229, 0.1); -fx-border-radius: 12; -fx-background-radius: 12;">
                    <columns>
                        <TableColumn fx:id="colRecentOrderId" text="Order ID" prefWidth="80"
                                     style="-fx-background-color: #E3F2FD; -fx-text-fill: #0D47A1;" />
                        <TableColumn fx:id="colRecentCustomer" text="Customer" prefWidth="120"
                                     style="-fx-background-color: #E3F2FD; -fx-text-fill: #0D47A1;" />
                        <TableColumn fx:id="colRecentAmount" text="Amount" prefWidth="100"
                                     style="-fx-background-color: #E3F2FD; -fx-text-fill: #0D47A1;" />
                        <TableColumn fx:id="colRecentStatus" text="Status" prefWidth="100"
                                     style="-fx-background-color: #E3F2FD; -fx-text-fill: #0D47A1;" />
                        <TableColumn fx:id="colRecentTime" text="Time" prefWidth="120"
                                     style="-fx-background-color: #E3F2FD; -fx-text-fill: #0D47A1;" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>
            </VBox>
        </GridPane>

        <!-- Inventory Alerts & Reservations -->
        <GridPane hgap="20" vgap="20">
            <columnConstraints>
                <ColumnConstraints hgrow="ALWAYS" prefWidth="450" />
                <ColumnConstraints hgrow="ALWAYS" prefWidth="450" />
            </columnConstraints>

            <!-- Low Inventory Alerts -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4);" spacing="15" GridPane.columnIndex="0">
                <HBox alignment="CENTER_LEFT">
                    <Label text="âš ï¸ Low Inventory Alerts" style="-fx-font-size: 18px; -fx-font-weight: 600; -fx-text-fill: #E53935;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Label fx:id="alertCountLabel" text="0 items"
                           style="-fx-text-fill: #E53935; -fx-font-weight: bold; -fx-background-color: rgba(229, 57, 53, 0.1); -fx-background-radius: 8; -fx-padding: 4 10;" />
                </HBox>

                <ListView fx:id="inventoryAlertsList" prefHeight="150"
                          style="-fx-background-color: #F8FAFC; -fx-border-color: rgba(229, 57, 53, 0.1); -fx-border-radius: 12; -fx-background-radius: 12;">
                    <placeholder>
                        <Label text="No inventory alerts" style="-fx-text-fill: #5C6BC0; -fx-alignment: CENTER; -fx-padding: 20;" />
                    </placeholder>
                </ListView>

                <Button text="ðŸ“¦ Manage Inventory"
                        style="-fx-background-color: linear-gradient(to bottom right, #E53935, #C62828); -fx-text-fill: white; -fx-font-weight: 600; -fx-font-size: 14px; -fx-padding: 12; -fx-background-radius: 10; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(229, 57, 53, 0.3), 8, 0, 0, 2);" />
            </VBox>

            <!-- Today's Reservations -->
            <VBox style="-fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.08), 10, 0, 2, 4);" spacing="15" GridPane.columnIndex="1">
                <HBox alignment="CENTER_LEFT">
                    <Label text="ðŸ“… Today's Reservations" style="-fx-font-size: 18px; -fx-font-weight: 600; -fx-text-fill: #0D47A1;" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Label fx:id="reservationCountLabel" text="0 reservations"
                           style="-fx-text-fill: #1E88E5; -fx-font-weight: bold; -fx-background-color: rgba(30, 136, 229, 0.1); -fx-background-radius: 8; -fx-padding: 4 10;" />
                </HBox>

                <TableView fx:id="todayReservationsTable" prefHeight="150"
                           style="-fx-background-color: transparent; -fx-border-color: rgba(30, 136, 229, 0.1); -fx-border-radius: 12; -fx-background-radius: 12;">
                    <columns>
                        <TableColumn fx:id="colReservationCustomer" text="Customer" prefWidth="120"
                                     style="-fx-background-color: #E3F2FD; -fx-text-fill: #0D47A1;" />
                        <TableColumn fx:id="colReservationTime" text="Time" prefWidth="100"
                                     style="-fx-background-color: #E3F2FD; -fx-text-fill: #0D47A1;" />
                        <TableColumn fx:id="colReservationGuests" text="Guests" prefWidth="80"
                                     style="-fx-background-color: #E3F2FD; -fx-text-fill: #0D47A1;" />
                        <TableColumn fx:id="colReservationStatus" text="Status" prefWidth="100"
                                     style="-fx-background-color: #E3F2FD; -fx-text-fill: #0D47A1;" />
                    </columns>
                    <columnResizePolicy>
                        <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
                    </columnResizePolicy>
                </TableView>

                <Button text="ðŸ“… View All Reservations"
                        style="-fx-background-color: linear-gradient(to bottom right, #1E88E5, #1565C0); -fx-text-fill: white; -fx-font-weight: 600; -fx-font-size: 14px; -fx-padding: 12; -fx-background-radius: 10; -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.3), 8, 0, 0, 2);" />
            </VBox>
        </GridPane>

        <!-- Footer -->
        <HBox alignment="CENTER" spacing="15" style="-fx-padding: 25 0 10 0; -fx-background-color: white; -fx-background-radius: 16; -fx-padding: 20; -fx-effect: dropshadow(gaussian, rgba(30, 136, 229, 0.05), 8, 0, 2, 2);">
            <Label text="ðŸ½ï¸ Restaurant Management System v1.0" style="-fx-text-fill: #5C6BC0; -fx-font-size: 14px; -fx-font-weight: 500;" />
            <Separator orientation="VERTICAL" style="-fx-padding: 0 10;" />
            <Label text="ðŸ“Š Real-time Dashboard" style="-fx-text-fill: #5C6BC0; -fx-font-size: 14px; -fx-font-weight: 500;" />
            <Separator orientation="VERTICAL" style="-fx-padding: 0 10;" />
            <Label text="ðŸ• Last Updated: " style="-fx-text-fill: #5C6BC0; -fx-font-size: 14px; -fx-font-weight: 500;" />
            <Label fx:id="lastUpdatedLabel" text="Just now" style="-fx-text-fill: #43A047; -fx-font-size: 14px; -fx-font-weight: 600;" />
        </HBox>

    </VBox>

</ScrollPane>